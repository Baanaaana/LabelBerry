<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - LabelBerry</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%234263eb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z'/%3E%3Cpath d='M14 8H8'/%3E%3Cpath d='M16 12H8'/%3E%3Cpath d='M13 16H8'/%3E%3C/svg%3E">
    
    <!-- Google Fonts - Ubuntu -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/static/css/dashboard.css?v={{ static_version }}">
    <link rel="stylesheet" href="/static/css/api_docs.css?v={{ static_version }}">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <div class="docs-container">
        <!-- Header -->
        <div class="docs-header">
            <div class="header-left">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <i data-lucide="receipt-text" style="color: var(--primary-color); width: 24px; height: 24px;"></i>
                    <h1 style="font-size: 24px; font-weight: 600; color: var(--text-primary); margin: 0;">LabelBerry</h1>
                </div>
            </div>
            <div class="header-center">
                <h1>API Documentation</h1>
            </div>
            <div class="header-right">
                <a href="/" class="icon-btn" title="Back to Dashboard">
                    <i data-lucide="arrow-left"></i>
                </a>
                <a href="/settings" class="icon-btn" title="Settings">
                    <i data-lucide="settings"></i>
                </a>
            </div>
        </div>

        <!-- Content -->
        <div class="docs-content">
            <!-- Sidebar Navigation -->
            <div class="docs-sidebar">
                <input type="text" class="search-input" placeholder="Search endpoints..." id="search-endpoints" onkeyup="searchEndpoints(this.value)">
                
                <nav class="docs-nav">
                    <a href="#getting-started" class="nav-item active" onclick="scrollToSection('getting-started', this); return false;">
                        <i data-lucide="rocket"></i>
                        <span>Getting Started</span>
                    </a>
                    <a href="#printer-discovery" class="nav-item" onclick="scrollToSection('printer-discovery', this); return false;">
                        <i data-lucide="search"></i>
                        <span>Printer Discovery</span>
                    </a>
                    <a href="#sending-prints" class="nav-item" onclick="scrollToSection('sending-prints', this); return false;">
                        <i data-lucide="printer"></i>
                        <span>Sending Print Jobs</span>
                    </a>
                    <a href="#queue-management" class="nav-item" onclick="scrollToSection('queue-management', this); return false;">
                        <i data-lucide="list-ordered"></i>
                        <span>Queue Management</span>
                    </a>
                    <a href="#job-history" class="nav-item" onclick="scrollToSection('job-history', this); return false;">
                        <i data-lucide="clock"></i>
                        <span>Job History</span>
                    </a>
                    <a href="#label-config" class="nav-item" onclick="scrollToSection('label-config', this); return false;">
                        <i data-lucide="ruler"></i>
                        <span>Label Configuration</span>
                    </a>
                    <a href="#api-keys" class="nav-item" onclick="scrollToSection('api-keys', this); return false;">
                        <i data-lucide="key"></i>
                        <span>API Key Management</span>
                    </a>
                </nav>
            </div>

            <!-- Main Documentation -->
            <div class="docs-main">
                <!-- Getting Started Section -->
                <section id="getting-started" class="doc-section">
                    <h1>Getting Started</h1>
                    <p class="section-intro">Welcome to the LabelBerry API! This guide will help you integrate label printing into your applications.</p>
                    
                    <div class="info-box">
                        <i data-lucide="server"></i>
                        <div>
                            <strong>Base URL:</strong> <code id="base-url">Loading...</code>
                            <br>
                            <strong>Content-Type:</strong> <code>application/json</code>
                            <br>
                            <strong>Authentication:</strong> <code>Bearer token in Authorization header</code>
                        </div>
                    </div>

                    <h2>Quick Start</h2>
                    <p>Here's how to send your first print job in 3 steps:</p>
                    
                    <div class="step-cards">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <h3>Get Your API Key</h3>
                            <p>Create an API key in <a href="/settings#api-keys">Settings â†’ API Keys</a></p>
                            <div id="user-api-key-display"></div>
                        </div>
                        
                        <div class="step-card">
                            <div class="step-number">2</div>
                            <h3>Find Your Printer</h3>
                            <p>List available printers to get their IDs</p>
                            <button class="btn btn-sm" onclick="tryListPrinters()">
                                <i data-lucide="play"></i> Try It
                            </button>
                        </div>
                        
                        <div class="step-card">
                            <div class="step-number">3</div>
                            <h3>Send Print Job</h3>
                            <p>Send ZPL data to your printer</p>
                            <button class="btn btn-sm" onclick="showPrintExample()">
                                <i data-lucide="code"></i> See Example
                            </button>
                        </div>
                    </div>

                    <h2>Complete Example</h2>
                    <div class="code-tabs">
                        <div class="tab-buttons">
                            <button class="tab-btn active" onclick="switchCodeTab(this, 'nextjs')">Next.js/React</button>
                            <button class="tab-btn" onclick="switchCodeTab(this, 'curl')">cURL</button>
                        </div>
                        
                        <div class="tab-content" id="tab-nextjs">
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Next.js Component Example</span>
                                    <button onclick="copyCode(this)" class="copy-btn">
                                        <i data-lucide="copy"></i>
                                    </button>
                                </div>
                                <pre><code class="language-typescript">import { useState } from 'react';

const PrintLabelComponent = () => {
  const [loading, setLoading] = useState(false);
  const [result, setResult] = useState(null);
  
  const printLabel = async () => {
    setLoading(true);
    try {
      // Step 1: Get list of printers
      const printersRes = await fetch('${window.location.origin}/api/pis');
      const printers = await printersRes.json();
      
      if (printers.data.pis.length === 0) {
        throw new Error('No printers available');
      }
      
      const printerId = printers.data.pis[0].id;
      
      // Step 2: Send print job
      const printRes = await fetch(`${window.location.origin}/api/pis/${printerId}/print`, {
        method: 'POST',
        headers: {
          'Authorization': 'Bearer YOUR_API_KEY_HERE',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          zpl_raw: '^XA^FO50,50^ADN,36,20^FDHello LabelBerry!^FS^XZ'
        })
      });
      
      const printResult = await printRes.json();
      setResult(printResult);
      
      if (printResult.data.status === 'queued') {
        console.log(`Job queued at position ${printResult.data.queue_position}`);
      }
      
    } catch (error) {
      console.error('Print failed:', error);
    } finally {
      setLoading(false);
    }
  };
  
  return (
    &lt;button onClick={printLabel} disabled={loading}&gt;
      {loading ? 'Printing...' : 'Print Label'}
    &lt;/button&gt;
  );
};</code></pre>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="tab-curl" style="display: none;">
                            <div class="code-block">
                                <div class="code-header">
                                    <span>cURL Commands</span>
                                    <button onclick="copyCode(this)" class="copy-btn">
                                        <i data-lucide="copy"></i>
                                    </button>
                                </div>
                                <pre><code class="language-bash"># Step 1: Get list of printers
curl -X GET ${window.location.origin}/api/pis

# Step 2: Send print job (replace PRINTER_ID and API_KEY)
curl -X POST ${window.location.origin}/api/pis/PRINTER_ID/print \
  -H "Authorization: Bearer YOUR_API_KEY_HERE" \
  -H "Content-Type: application/json" \
  -d '{
    "zpl_raw": "^XA^FO50,50^ADN,36,20^FDHello LabelBerry!^FS^XZ"
  }'</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Printer Discovery Section -->
                <section id="printer-discovery" class="doc-section">
                    <h1>Printer Discovery & Status</h1>
                    <p class="section-intro">Find and monitor your connected label printers.</p>

                    <!-- List All Printers -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method get">GET</span>
                                <code class="endpoint-path">/api/pis</code>
                            </div>
                            <button class="try-btn" onclick="tryEndpoint('list-printers')">
                                <i data-lucide="play"></i> Try It
                            </button>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Returns a list of all registered printers with their current status, label sizes, and connection state.</p>
                        </div>

                        <div class="endpoint-details" id="list-printers-details" style="display: none;">
                            <div class="response-preview">
                                <h4>Response</h4>
                                <pre><code id="list-printers-response">Sending request...</code></pre>
                            </div>
                        </div>

                        <div class="code-examples">
                            <div class="code-tabs">
                                <div class="tab-buttons">
                                    <button class="tab-btn active" onclick="switchExampleTab(this, 'list-nextjs')">Next.js</button>
                                    <button class="tab-btn" onclick="switchExampleTab(this, 'list-curl')">cURL</button>
                                </div>
                                
                                <div class="tab-content" id="list-nextjs">
                                    <pre><code>const getPrinters = async () => {
  const response = await fetch('${window.location.origin}/api/pis');
  const data = await response.json();
  
  return data.data.pis.map(printer => ({
    id: printer.id,
    name: printer.friendly_name,
    status: printer.status,
    isOnline: printer.websocket_connected,
    queueCount: printer.queue_count
  }));
};</code></pre>
                                </div>
                                
                                <div class="tab-content" id="list-curl" style="display: none;">
                                    <pre><code>curl -X GET ${window.location.origin}/api/pis</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Get Printer Details -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method get">GET</span>
                                <code class="endpoint-path">/api/pis/{pi_id}</code>
                            </div>
                            <button class="try-btn" onclick="showInteractiveForm('printer-details')">
                                <i data-lucide="play"></i> Try It
                            </button>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Get detailed information about a specific printer including configuration and metrics.</p>
                        </div>

                        <div class="interactive-form" id="printer-details-form" style="display: none;">
                            <div class="form-group">
                                <label>Printer ID</label>
                                <select id="printer-details-id" class="form-control printer-select">
                                    <option value="">Loading printers...</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="tryPrinterDetails()">Send Request</button>
                            <div class="response-preview">
                                <h4>Response</h4>
                                <pre><code id="printer-details-response">Ready to send request...</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Get Printer Metrics -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method get">GET</span>
                                <code class="endpoint-path">/api/pis/{pi_id}/metrics</code>
                            </div>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Get performance metrics for a printer including CPU usage, memory, and job statistics.</p>
                        </div>
                    </div>
                </section>

                <!-- Sending Print Jobs Section -->
                <section id="sending-prints" class="doc-section">
                    <h1>Sending Print Jobs</h1>
                    <p class="section-intro">Send ZPL data to your printers with automatic queuing for offline devices.</p>

                    <div class="feature-highlight">
                        <i data-lucide="zap"></i>
                        <div>
                            <strong>Smart Routing:</strong> Jobs are automatically queued when printers are offline and sent when they reconnect.
                        </div>
                    </div>

                    <!-- Send Print Job -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method post">POST</span>
                                <code class="endpoint-path">/api/pis/{pi_id}/print</code>
                                <span class="auth-badge">Requires Auth</span>
                            </div>
                            <button class="try-btn" onclick="showPrintForm()">
                                <i data-lucide="play"></i> Try It
                            </button>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Send a print job to a printer. If the printer is offline, the job will be queued and sent when it reconnects.</p>
                        </div>

                        <div class="interactive-form" id="print-form" style="display: none;">
                            <div class="form-group">
                                <label>Printer</label>
                                <select id="print-printer-id" class="form-control printer-select">
                                    <option value="">Select a printer...</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>API Key</label>
                                <select id="print-api-key" class="form-control api-key-select">
                                    <option value="">Select API key...</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Print Method</label>
                                <div class="radio-group">
                                    <label>
                                        <input type="radio" name="print-method" value="raw" checked onchange="togglePrintMethod()">
                                        Raw ZPL
                                    </label>
                                    <label>
                                        <input type="radio" name="print-method" value="url" onchange="togglePrintMethod()">
                                        ZPL URL
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group" id="zpl-raw-group">
                                <label>ZPL Content</label>
                                <textarea id="print-zpl-raw" class="form-control" rows="4">^XA
^FO50,50^ADN,36,20
^FDTest Label from API Docs
^FS
^FO50,100^ADN,18,10
^FDPrinted: ${new Date().toLocaleString()}
^FS
^XZ</textarea>
                            </div>
                            
                            <div class="form-group" id="zpl-url-group" style="display: none;">
                                <label>ZPL URL</label>
                                <input type="text" id="print-zpl-url" class="form-control" placeholder="https://example.com/label.zpl">
                            </div>
                            
                            <div class="form-group">
                                <label>Priority (1-10)</label>
                                <input type="number" id="print-priority" class="form-control" value="5" min="1" max="10">
                            </div>
                            
                            <button class="btn btn-primary" onclick="sendPrintJob()">
                                <i data-lucide="printer"></i> Send Print Job
                            </button>
                            
                            <div class="response-preview">
                                <h4>Response</h4>
                                <pre><code id="print-response">Ready to send print job...</code></pre>
                            </div>
                        </div>

                        <div class="code-examples">
                            <h4>Request Body</h4>
                            <pre><code>{
  "zpl_raw": "^XA^FO50,50^ADN,36,20^FDHello World^FS^XZ",
  // OR
  "zpl_url": "https://example.com/label.zpl",
  "priority": 5  // Optional: 1-10, higher = more urgent
}</code></pre>

                            <h4>Response</h4>
                            <pre><code>// If printer is online:
{
  "success": true,
  "message": "Print job sent directly to Pi",
  "data": {
    "job_id": "uuid-here",
    "pi_id": "printer-id",
    "status": "sent"
  }
}

// If printer is offline:
{
  "success": true,
  "message": "Print job queued (Pi offline)",
  "data": {
    "job_id": "uuid-here",
    "pi_id": "printer-id",
    "status": "queued",
    "queue_position": 3
  }
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Queue Management Section -->
                <section id="queue-management" class="doc-section">
                    <h1>Queue Management</h1>
                    <p class="section-intro">Monitor and manage print jobs in the queue. Jobs are automatically sent when printers come online.</p>

                    <!-- View Queue -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method get">GET</span>
                                <code class="endpoint-path">/api/queue</code>
                                <span class="auth-badge">Requires Auth</span>
                            </div>
                            <button class="try-btn" onclick="tryEndpoint('view-queue')">
                                <i data-lucide="play"></i> Try It
                            </button>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>View all queued jobs across all printers.</p>
                        </div>

                        <div class="endpoint-details" id="view-queue-details" style="display: none;">
                            <div class="response-preview">
                                <h4>Response</h4>
                                <pre><code id="view-queue-response">Sending request...</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Cancel Job -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method delete">DELETE</span>
                                <code class="endpoint-path">/api/queue/job/{job_id}</code>
                                <span class="auth-badge">Requires Auth</span>
                            </div>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Cancel a queued job. Only works for jobs in 'queued', 'sent', or 'pending' status.</p>
                        </div>
                    </div>

                    <!-- Retry Failed Job -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method post">POST</span>
                                <code class="endpoint-path">/api/queue/job/{job_id}/retry</code>
                                <span class="auth-badge">Requires Auth</span>
                            </div>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Retry a failed job. The job will be re-queued and processed again.</p>
                        </div>

                        <div class="code-examples">
                            <div class="code-tabs">
                                <div class="tab-buttons">
                                    <button class="tab-btn active" onclick="switchExampleTab(this, 'retry-nextjs')">Next.js</button>
                                    <button class="tab-btn" onclick="switchExampleTab(this, 'retry-curl')">cURL</button>
                                </div>
                                
                                <div class="tab-content" id="retry-nextjs">
                                    <pre><code>const retryJob = async (jobId: string) => {
  const response = await fetch(`/api/queue/job/${jobId}/retry`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${apiKey}`
    }
  });
  
  if (!response.ok) {
    throw new Error('Failed to retry job');
  }
  
  return response.json();
};</code></pre>
                                </div>
                                
                                <div class="tab-content" id="retry-curl" style="display: none;">
                                    <pre><code>curl -X POST ${window.location.origin}/api/queue/job/JOB_ID/retry \
  -H "Authorization: Bearer YOUR_API_KEY"</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Clear Queue -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method post">POST</span>
                                <code class="endpoint-path">/api/queue/{pi_id}/clear</code>
                                <span class="auth-badge">Requires Auth</span>
                            </div>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Clear all queued jobs for a specific printer. This cancels all pending jobs.</p>
                        </div>
                    </div>
                </section>

                <!-- Job History Section -->
                <section id="job-history" class="doc-section">
                    <h1>Job History & Tracking</h1>
                    <p class="section-intro">Track the status and history of print jobs.</p>

                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method get">GET</span>
                                <code class="endpoint-path">/api/pis/{pi_id}/jobs</code>
                            </div>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Get print job history for a specific printer.</p>
                        </div>

                        <h4>Job Statuses</h4>
                        <div class="status-list">
                            <div class="status-item">
                                <span class="status-badge queued">QUEUED</span>
                                <span>Job is waiting to be sent (printer offline or rate-limited)</span>
                            </div>
                            <div class="status-item">
                                <span class="status-badge sent">SENT</span>
                                <span>Job was sent to printer, awaiting acknowledgment</span>
                            </div>
                            <div class="status-item">
                                <span class="status-badge processing">PROCESSING</span>
                                <span>Printer is actively printing</span>
                            </div>
                            <div class="status-item">
                                <span class="status-badge completed">COMPLETED</span>
                                <span>Successfully printed</span>
                            </div>
                            <div class="status-item">
                                <span class="status-badge failed">FAILED</span>
                                <span>Print failed (see error_type for details)</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Label Configuration Section -->
                <section id="label-config" class="doc-section">
                    <h1>Label Configuration</h1>
                    <p class="section-intro">Manage label sizes for your printers.</p>

                    <!-- Get Label Sizes -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method get">GET</span>
                                <code class="endpoint-path">/api/label-sizes</code>
                            </div>
                            <button class="try-btn" onclick="tryEndpoint('label-sizes')">
                                <i data-lucide="play"></i> Try It
                            </button>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Get all available label sizes.</p>
                        </div>

                        <div class="endpoint-details" id="label-sizes-details" style="display: none;">
                            <div class="response-preview">
                                <h4>Response</h4>
                                <pre><code id="label-sizes-response">Sending request...</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Add Label Size -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method post">POST</span>
                                <code class="endpoint-path">/api/label-sizes</code>
                                <span class="auth-badge">Requires Auth</span>
                            </div>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Add a custom label size.</p>
                        </div>

                        <div class="code-examples">
                            <h4>Request Body</h4>
                            <pre><code>{
  "name": "Custom Label",
  "width_mm": 80,
  "height_mm": 120
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- API Key Management Section -->
                <section id="api-keys" class="doc-section">
                    <h1>API Key Management</h1>
                    <p class="section-intro">Manage API keys for authentication. Dashboard login required for these endpoints.</p>

                    <div class="info-box warning">
                        <i data-lucide="alert-triangle"></i>
                        <div>
                            <strong>Note:</strong> These endpoints require dashboard authentication, not API key authentication.
                        </div>
                    </div>

                    <!-- List API Keys -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method get">GET</span>
                                <code class="endpoint-path">/api/keys</code>
                                <span class="auth-badge">Dashboard Auth</span>
                            </div>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>List all API keys (requires dashboard login).</p>
                        </div>
                    </div>

                    <!-- Create API Key -->
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <div class="endpoint-title">
                                <span class="method post">POST</span>
                                <code class="endpoint-path">/api/keys</code>
                                <span class="auth-badge">Dashboard Auth</span>
                            </div>
                        </div>
                        
                        <div class="endpoint-description">
                            <p>Create a new API key. The key is only shown once, so save it securely.</p>
                        </div>

                        <div class="code-examples">
                            <h4>Request Body</h4>
                            <pre><code>{
  "name": "Production App",
  "description": "API key for production label printing"
}</code></pre>

                            <h4>Response</h4>
                            <pre><code>{
  "success": true,
  "message": "API key created successfully",
  "data": {
    "api_key": "labk_xxxxxxxxxxxxxxxxxx",  // Save this! Only shown once
    "name": "Production App"
  }
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Error Responses Section -->
                <section id="error-responses" class="doc-section">
                    <h1>Error Responses</h1>
                    <p class="section-intro">Common error responses and how to handle them.</p>

                    <div class="error-card">
                        <div class="error-header">
                            <span class="status-code">401</span>
                            <span class="error-name">Unauthorized</span>
                        </div>
                        <div class="error-body">
                            <p>Invalid or missing API key.</p>
                            <pre><code>{
  "detail": "Invalid API key"
}</code></pre>
                            <p><strong>Solution:</strong> Check that your API key is correct and included in the Authorization header as <code>Bearer YOUR_KEY</code>.</p>
                        </div>
                    </div>

                    <div class="error-card">
                        <div class="error-header">
                            <span class="status-code">404</span>
                            <span class="error-name">Not Found</span>
                        </div>
                        <div class="error-body">
                            <p>The requested resource doesn't exist.</p>
                            <pre><code>{
  "detail": "Pi not found"
}</code></pre>
                            <p><strong>Solution:</strong> Verify the printer ID or resource ID is correct.</p>
                        </div>
                    </div>

                    <div class="error-card">
                        <div class="error-header">
                            <span class="status-code">503</span>
                            <span class="error-name">Service Unavailable</span>
                        </div>
                        <div class="error-body">
                            <p>The printer is offline (for direct print endpoints).</p>
                            <pre><code>{
  "detail": "Printer not connected"
}</code></pre>
                            <p><strong>Solution:</strong> Use the queue-enabled endpoint <code>/api/pis/{pi_id}/print</code> which will automatically queue jobs for offline printers.</p>
                        </div>
                    </div>

                    <div class="error-card">
                        <div class="error-header">
                            <span class="status-code">400</span>
                            <span class="error-name">Bad Request</span>
                        </div>
                        <div class="error-body">
                            <p>Invalid request format or parameters.</p>
                            <pre><code>{
  "detail": "Either zpl_url or zpl_raw must be provided"
}</code></pre>
                            <p><strong>Solution:</strong> Check your request body matches the expected format.</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script src="/static/js/api_docs.js?v={{ static_version }}"></script>
</body>
</html>